# This is a sample file for a manifest.yml manifest backend.
# Read more about the manifest format here: https:/manifest.build/docs

name: TwitterClone
version: 1.0.0

entities:
  Tweet:
    properties:
      - { name: content, type: text }
      - { name: createdAt, type: timestamp }
    belongsTo:
      - { name: user, entity: User }
    policies:
      read:
        - { access: public }
      create:
        - { access: restricted, allow: User, condition: self }
      update:
        - { access: restricted }
      delete:
        - { access: restricted, allow: User, condition: self }

  User:
    seedCount: 10
    authenticable: true
    properties:
      - { name: username, type: string }
    policies:
      read:
        - access: public
      signup:
        - access: public

  Comment:
    seedCount: 100
    properties:
      - { name: content, type: text }
      - { name: createdAt, type: timestamp }
    belongsTo:
      - { name: author, entity: User }
      - { name: tweet, entity: Tweet }
    policies:
      create:
        - { access: restricted, allow: User, condition: self }
      read:
        - access: public
